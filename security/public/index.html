<html>
  <head>
    <title>CSP Demo</title>

    <!-- This loads a Google font. -->
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css?family=Kode+Mono"
    />

    <link rel="stylesheet" href="styles.css" />

    <!-- This loads the htmx library from a CDN. -->
    <script
      src="https://unpkg.com/htmx.org@2.0.0"
      integrity="sha384-D1Kt99CQMDuVetoL1lrYwg5t+9QdHe7NLX/SoJYkXDFfX37iInKRy5xLSi8nO7UC"
      crossorigin="anonymous"
    ></script>
    <!-- We could get the htmx library from
         a local copy instead of from a CDN. -->
    <!-- <script src="htmx.min.js"></script> -->

    <script src="reload-client.js" type="module"></script>

    <!-- <script>
      async function domXSS() {
        const res = await fetch('/dom-xss');
        const text = await res.text();
        eval(text);
      }
      window.onload = domXSS;
    </script> -->
  </head>
  <body>
    <h2>This demonstrates the Google font "Kode Mono".</h2>

    <img
      alt="Grand Prismatic Spring"
      src="https://images.unsplash.com/photo-1629985692757-48648f4f1fc1"
      width="300"
    />

    <video
      src="http://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4"
      controls
      width="300"
    ></video>

    <div>
      <!-- When this button is clicked,
           an HTTP GET request is sent to /version.
           The text it returns replaces the innerHTML
           of the element with id "version". -->
      <button hx-get="/version" hx-target="#version">Get Bun Version</button>
      <span id="version"></span>
    </div>

    <!-- This should require the form-action CSP directive, but it doesn't. -->
    <!-- <form method="post" action="https://jsonplaceholder.typicode.com/todos"> -->

    <form
      hx-post="https://jsonplaceholder.typicode.com/todos"
      hx-target="#todo"
    >
      <label>Title:<input type="text" name="title" value="" /></label>
      <label>Body:<input type="text" name="body" value="" /></label>
      <button>Submit</button>
    </form>
    <div id="todo"></div>

    <button hx-get="/reflective-xss" hx-target="#reflective-xss">
      Reflective XSS
    </button>
    <div id="reflective-xss"></div>
  </body>
</html>
